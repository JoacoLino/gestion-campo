/* =======================================================
   VERSION PC (Escritorio > 768px)
   ======================================================= */

.layout-wrapper {
    min-height: 100vh;
    background-color: #f8f9fa;
}

/* En PC ocultamos la barra móvil nueva */
.mobile-navbar { display: none; }

/* SIDEBAR FIJO */
.sidebar {
    width: 250px;
    height: 100vh;
    background: white;
    border-right: 1px solid #e0e0e0;
    position: fixed;
    top: 0; left: 0;
    z-index: 100;
    display: flex; flex-direction: column; padding: 20px;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); /* Animación fluida */
}

/* CONTENIDO */
.layout-content {
    margin-left: 250px;
    width: calc(100% - 250px);
    padding: 0;
}

.overlay { display: none; } /* Oculto en PC */

/* Estilos Menú */
.sidebar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
.sidebar-header h3 { margin: 0; color: #2e7d32; font-size: 1.2rem; }
.close-menu { display: none; } /* La X oculta en PC */

.nav-item {
    padding: 12px 15px; margin-bottom: 5px; border-radius: 8px; cursor: pointer;
    color: #555; display: flex; align-items: center; gap: 12px; font-weight: 500;
    transition: all 0.2s;
}
.nav-item:hover { background-color: #e8f5e9; color: #1b5e20; }
.nav-item.active { background-color: #c8e6c9; color: #1b5e20; font-weight: bold; }
.btn-back { margin-top: auto; padding: 12px; border: 1px solid #ddd; background: #fafafa; cursor: pointer; border-radius: 8px; color: #666; font-weight: 500; }
.btn-back:hover { background: #eee; color: #333; }


/* =======================================================
   VERSION MÓVIL (Celular < 768px)
   ======================================================= */
@media (max-width: 768px) {
    
    /* 1. NAVBAR SUPERIOR FIJO */
    .mobile-navbar {
        display: flex;
        align-items: center;
        gap: 15px;
        position: fixed; /* Se queda pegada arriba */
        top: 0; left: 0; width: 100%;
        height: 60px; /* Altura de la barra */
        background: white;
        border-bottom: 1px solid #e0e0e0;
        padding: 0 15px;
        z-index: 900; /* Por encima del contenido, debajo del menú */
        box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        box-sizing: border-box;
    }

    .mobile-toggle {
        background: none; border: none; font-size: 1.5rem; color: #333;
        cursor: pointer; padding: 5px; display: flex; align-items: center;
    }

    .mobile-logo {
        font-weight: bold; color: #2e7d32; font-size: 1.1rem;
    }

    /* 2. SIDEBAR (DRAWER) */
    .sidebar {
        position: fixed; top: 0; left: 0; height: 100%;
        width: 280px; /* Ancho cómodo para el dedo */
        max-width: 80%;
        transform: translateX(-100%); /* Escondido a la izquierda */
        z-index: 1000; /* Por encima de todo */
        box-shadow: none;
    }

    .sidebar.open {
        transform: translateX(0); /* Entra suavemente */
        box-shadow: 5px 0 15px rgba(0,0,0,0.2); /* Sombra al abrirse */
    }

    /* Botón cerrar dentro del menú */
    .close-menu {
        display: block;
        background: none; border: none; font-size: 1.5rem; color: #666; cursor: pointer;
    }

    /* 3. CONTENIDO PRINCIPAL */
    .layout-content {
        margin-left: 0 !important;
        width: 100% !important;
        /* IMPORTANTE: Empujamos el contenido hacia abajo para que la barra no lo tape */
        padding-top: 60px; 
    }

    /* 4. FONDO OSCURO (OVERLAY) */
    .overlay {
        display: block;
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.5);
        z-index: 950; /* Entre la navbar y el sidebar */
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s;
        backdrop-filter: blur(2px); /* Efecto borroso moderno */
    }

    .overlay.show {
        opacity: 1;
        visibility: visible;
    }
}